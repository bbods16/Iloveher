<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>For Someone Special</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* (all your CSS remains unchanged) */
  </style>
</head>
<body>
  <div class="container" id="container">
    <!-- (all your divs/pages remain unchanged) -->
  </div>

  <!-- Updated background music -->
  <audio id="bgMusic" src="Clocks.mp3" preload="auto"></audio>


  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>
    const sections = ['welcome', 'page1', 'page2', 'page3', 'page4', 'page5', 'question', 'message'];

    function fadeOutIn(currentId, nextId) {
      const container = document.getElementById('container');
      container.style.opacity = 0;
      setTimeout(() => {
        document.getElementById(currentId).style.display = 'none';
        const next = document.getElementById(nextId);
        next.style.display = 'flex';
        next.style.flexDirection = 'column';
        next.style.justifyContent = 'center';
        next.style.alignItems = 'center';
        emojiRain();
        container.style.opacity = 1;
      }, 500);
    }

    function emojiRain() {
      const emojis = ['‚ù§Ô∏è','‚ú®','üòä','üåü'];
      for (let i = 0; i < 10; i++) {
        const emoji = document.createElement('div');
        emoji.className = 'emoji';
        emoji.innerText = emojis[Math.floor(Math.random() * emojis.length)];
        emoji.style.left = Math.random() * 100 + 'vw';
        emoji.style.top = Math.random() * 100 + 'vh';
        document.body.appendChild(emoji);
        setTimeout(() => emoji.remove(), 6000);
      }
    }

    document.getElementById('continueButton').onclick = () => fadeOutIn('welcome', 'page1');
    document.getElementById('toPage2').onclick = () => fadeOutIn('page1', 'page2');
    document.getElementById('toPage3').onclick = () => fadeOutIn('page2', 'page3');
    document.getElementById('toPage4').onclick = () => fadeOutIn('page3', 'page4');
    document.getElementById('toPage5').onclick = () => fadeOutIn('page4', 'page5');
    document.getElementById('toQuestion').onclick = () => fadeOutIn('page5', 'question');

    const yesButton = document.getElementById('yesButton');
    const absolutelyButton = document.getElementById('absolutelyButton');
    const finalButton = document.getElementById('finalButton');
    const bgMusic = document.getElementById('bgMusic');

    function celebrate() {
      confetti({ particleCount: 300, spread: 100, origin: { y: 0.6 } });
      createFloatingHearts();
      fadeOutIn('question', 'message');
      bgMusic.play();
    }

    function createFloatingHearts() {
      for (let i = 0; i < 20; i++) {
        const heart = document.createElement('div');
        heart.className = 'floating-heart';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.top = Math.random() * 100 + 'vh';
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 6000);
      }
    }

    function finalAction() {
      alert("Can't wait to see you! ‚ù§Ô∏è");
    }

    yesButton.addEventListener('click', celebrate);
    absolutelyButton.addEventListener('click', celebrate);
    finalButton.addEventListener('click', finalAction);

    // Auto typing text
    const autoType = document.getElementById('autoType');
    const text = "Hey Faith... ‚ú®";
    let index = 0;
    function typeWriter() {
      if (index < text.length) {
        autoType.innerHTML += text.charAt(index);
        index++;
        setTimeout(typeWriter, 100);
      }
    }
    typeWriter();
  </script>
</body>
</html>
